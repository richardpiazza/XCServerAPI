{"_id":"bba9b6ff6d6f0899a63d1e347e040bb4","_rev":"27-eb04691ef92da0e6e738ac4940de018d","group":{"name":"039222D2-0C7B-40F4-AF57-BC40DA5B39B2"},"configuration":{"builtFromClean":3,"periodicScheduleInterval":0,"codeCoveragePreference":2,"performsTestAction":true,"triggers":[{"phase":1,"scriptBody":"#!/bin/bash\n\nPROJECT_NAME=\"Bakeshop\"\nGIT_USER_NAME=\"Xcode Server\"\nGIT_USER_EMAIL=\"xcodeserver@richardpiazza.com\"\n\n#function sshkeys() {\n#sudo -u _xcsbuildd /bin/bash\n#ssh-keygen -t rsa -C \"$GIT_USER_EMAIL\"\n#cat /var/_xcsbuildd/.ssh/id_rsa.pub\n#ssh git@bitbucket.org\n#}\n\nfunction gitconfig() {\n    echo \"Checking Git Global Configuration\"\n    USERNAME=`git config --global --get user.name`\n    USEREMAIL=`git config --global --get user.email`\n    \n    if [ -z \"$USERNAME\" ];\n    then\n    echo \"Setting Git Global user.name\"\n    `git config --global user.name \"$GIT_USER_NAME\"`\n    else\n    echo \"Git Global user.name: $USERNAME\"\n    fi\n    \n    if [ -z \"$USEREMAIL\" ];\n    then\n    echo \"Setting Git Global user.email\"\n    `git config --global user.email \"$GIT_USER_EMAIL\"`\n    else\n    echo \"Git Global user.email: $USEREMAIL\"\n    fi\n}\n\nfunction tagintegration() {\n    echo \"Tagging Repository\"\n    \n    if [ -n \"$XCS_INTEGRATION_NUMBER\" ];\n    then\n    echo \"Source Directory: $XCS_SOURCE_DIR\"\n    echo \"Project Directory: $PROJECT_NAME\"\n    echo \"Integration: $XCS_INTEGRATION_NUMBER\"\n    GITSOURCE=\"$XCS_SOURCE_DIR/$PROJECT_NAME\"\n    `git -C \"$GITSOURCE\" tag -a $XCS_INTEGRATION_NUMBER -m \"Build $XCS_INTEGRATION_NUMBER\"`\n    `git -C \"$GITSOURCE\" push origin tag $XCS_INTEGRATION_NUMBER`;\n    else\n    echo \"No XCS Integration Number\";\n    fi\n}\n\ngitconfig\ntagintegration\n","type":1,"name":"Run Script"}],"performsAnalyzeAction":true,"schemeName":"Bakeshop","exportsProductFromArchive":true,"testingDeviceIDs":[],"deviceSpecification":{"filters":[{"platform":{"_id":"bba9b6ff6d6f0899a63d1e347e0043d2","displayName":"iOS","_rev":"4-c7830a565f0b66988399cb66f53043a5","simulatorIdentifier":"com.apple.platform.iphonesimulator","identifier":"com.apple.platform.iphoneos","buildNumber":"13E230","version":"9.3"},"filterType":2,"architectureType":0}],"deviceIdentifiers":[]},"weeklyScheduleDay":0,"minutesAfterHourToIntegrate":0,"scheduleType":3,"hourOfIntegration":0,"performsArchiveAction":true,"buildEnvironmentVariables":{},"testingDestinationType":0,"sourceControlBlueprint":{"DVTSourceControlWorkspaceBlueprintLocationsKey":{"6139C8319FDE4527BFD4EA6334BA1CE5BC0DE9DF":{"DVTSourceControlBranchIdentifierKey":"master","DVTSourceControlBranchOptionsKey":4,"DVTSourceControlWorkspaceBlueprintLocationTypeKey":"DVTSourceControlBranch"}},"DVTSourceControlWorkspaceBlueprintPrimaryRemoteRepositoryKey":"6139C8319FDE4527BFD4EA6334BA1CE5BC0DE9DF","DVTSourceControlWorkspaceBlueprintWorkingCopyRepositoryLocationsKey":{},"DVTSourceControlWorkspaceBlueprintRemoteRepositoryAuthenticationStrategiesKey":{"6139C8319FDE4527BFD4EA6334BA1CE5BC0DE9DF":{"DVTSourceControlWorkspaceBlueprintRemoteRepositoryAuthenticationTypeKey":"DVTSourceControlAuthenticationStrategy"}},"DVTSourceControlWorkspaceBlueprintWorkingCopyStatesKey":{"6139C8319FDE4527BFD4EA6334BA1CE5BC0DE9DF":0},"DVTSourceControlWorkspaceBlueprintIdentifierKey":"28914F01-51A3-47CA-91F8-E1A8E4AD8C5C","DVTSourceControlWorkspaceBlueprintWorkingCopyPathsKey":{"6139C8319FDE4527BFD4EA6334BA1CE5BC0DE9DF":"Bakeshop/"},"DVTSourceControlWorkspaceBlueprintNameKey":"Bakeshop","DVTSourceControlWorkspaceBlueprintVersion":204,"DVTSourceControlWorkspaceBlueprintRelativePathToProjectKey":"Bakeshop.xcworkspace","DVTSourceControlWorkspaceBlueprintRemoteRepositoriesKey":[{"DVTSourceControlWorkspaceBlueprintRemoteRepositoryURLKey":"ssh://bitbucket.org/richardpiazza/com.richardpiazza.bakeshop.git","DVTSourceControlWorkspaceBlueprintRemoteRepositorySystemKey":"com.apple.dt.Xcode.sourcecontrol.Git","DVTSourceControlWorkspaceBlueprintRemoteRepositoryIdentifierKey":"6139C8319FDE4527BFD4EA6334BA1CE5BC0DE9DF"}]}},"requiresUpgrade":false,"name":"Bakeshop Bot","type":1,"sourceControlBlueprintIdentifier":"4E33FC1D-E753-43F4-84C5-E247C529F5A4","integration_counter":87,"doc_type":"bot","tinyID":"5B52DA8","lastRevisionBlueprint":{"DVTSourceControlWorkspaceBlueprintLocationsKey":{"6139C8319FDE4527BFD4EA6334BA1CE5BC0DE9DF":{"DVTSourceControlBranchIdentifierKey":"master","DVTSourceControlLocationRevisionKey":"4174ca2530db3e4e31806f218f3f0204e3d3f253","DVTSourceControlBranchOptionsKey":4,"DVTSourceControlWorkspaceBlueprintLocationTypeKey":"DVTSourceControlBranch"}},"DVTSourceControlWorkspaceBlueprintPrimaryRemoteRepositoryKey":"6139C8319FDE4527BFD4EA6334BA1CE5BC0DE9DF","DVTSourceControlWorkspaceBlueprintIdentifierKey":"4D98747E-12A8-40ED-9FCD-F778D14AA9AF","DVTSourceControlWorkspaceBlueprintWorkingCopyPathsKey":{"6139C8319FDE4527BFD4EA6334BA1CE5BC0DE9DF":"Bakeshop/"},"DVTSourceControlWorkspaceBlueprintNameKey":"Bakeshop","DVTSourceControlWorkspaceBlueprintVersion":204,"DVTSourceControlWorkspaceBlueprintRelativePathToProjectKey":"Bakeshop.xcworkspace","DVTSourceControlWorkspaceBlueprintRemoteRepositoriesKey":[{"DVTSourceControlWorkspaceBlueprintRemoteRepositoryURLKey":"ssh://bitbucket.org/richardpiazza/com.richardpiazza.bakeshop.git","DVTSourceControlWorkspaceBlueprintRemoteRepositorySystemKey":"com.apple.dt.Xcode.sourcecontrol.Git","DVTSourceControlWorkspaceBlueprintRemoteRepositoryIdentifierKey":"6139C8319FDE4527BFD4EA6334BA1CE5BC0DE9DF"}]}}